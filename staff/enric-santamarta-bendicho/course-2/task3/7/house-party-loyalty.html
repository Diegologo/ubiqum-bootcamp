<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Enric Santamarta">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <title class="title">House Party Loyality</title>

</head>

<header class="header">
    <h1 class="logo">TGIF</h1>
    <a href="mailto:info@git.net?subject=Reaching%20Out&body=How%20are%20you" class="email">info@tgif.net</a>
</header>

<nav class="menu">

    <div class="container">
        <div class="panel-group">
            <div class="panel panel-deafult">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a  href="home.html" class="selector" >Home</a>
                        <a data-toggle="collapse" href="#collapse1" class="selector">Congress 113</a>
                        <a data-toggle="collapse" href="#collapse3" class="selector">Attendance</a>
                        <a data-toggle="collapse" href="#collapse4" class="selector">Party Loyalty</a>
                    </h4>
                </div>
          

                <div id="collapse1" class="panel-collapse collapse">
                    <div class="panel-body"><a href="house-data.html">House</a></div>

                    <div class="panel-body"><a href="senate-data.html">Senate</a></div>

                </div>
                <div id="collapse3" class="panel-collapse collapse">
                    <div class="panel-body"><a href="house-attendance.html">House</a></div>

                    <div class="panel-body"><a href="senate-attendance.html">Senate</a></div>

                </div>
                <div id="collapse4" class="panel-collapse collapse">
                    <div class="panel-body"><a href="house-party-loyalty.html">House</a></div>

                    <div class="panel-body"><a href="senate-party-loyalty.html">Senate</a></div>

                </div>
            </div>
        </div>
    </div>
</nav>

<body>


    <!--Table container-->
    <div class="container">
        <h2>Party Loyalty</h2>
        <p class="maintext">Those who consider themselves to be strong partisans, strong Democrats and strong
            Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and
            legislation that backs their party's agenda. </p>

        <h2>House at a glance</h2>
        <table class="table table-striped" id='tableGlance'>

        </table>

        <h2>Least Loyal (Bottom 10% of Party)</h2>

        <table class="table table-striped" id='leastLoyaltable'>

        </table>

        <h2>Most Loyal (Top 10% of Party)</h2>
        <table class="table table-striped" id='mostLoyaltable'>
        </table>

    </div>

    <script src="pro-congress-113-house.js"></script>
    <script src="statistics.js"></script>
    <script>
        var rows = ''

        var statistics = [
            //numberOfRepublicans
            {
                party: 'Republicans',
                numbers: republicans,
                percentage: averageVotesRepublicans
            },
            //numberOfDemocrats
            {
                party: 'Democrats',
                numbers: democrats,
                percentage: averageVotesDemocrats
            },
            //numberOfIndependents
            {
                party: 'Independents',
                numbers: independents,
                percentage: averageVotesIndependents
            }]

        var table = document.getElementById('tableGlance')
        var rows = ''

        rows += '<tr><th>' + 'Party' + '</th><th>' + 'Number of Representants'
            + '</th><th>' + 'Percentage of votes with Party' + '</th></tr>'


        statistics.forEach(function (statistics) {
            rows += '<tr><td>' + statistics.party + '</td><td>' + statistics.numbers +
                '</td><td>' + statistics.percentage.toFixed(2) + '%' + '</td></tr>'})

        table.innerHTML = rows
    
        //least Loyal Members
        var statistics2 = leastVotesNumbers
        var statistics3 = leastVotesNames
        var statistics6 = percentParty
      


        var table2 = document.getElementById('leastLoyaltable')
        var rows2 = ''

        rows2 += '<tr><th>' + 'Name' + '</th><th>' + 'Number Party Votes'
            + '</th><th>' + '% Party Votes' + '</th></tr>'

        for(var i=0;i<statistics3.length;i++) { 
            rows2 += '<tr><td>' + statistics3[i] + '</td><td>'+ 
                statistics2[i]+'</td><td>'+ statistics6[i].toFixed(4) + '%'
                 +'</td></tr>'}

        
        table2.innerHTML = rows2
        //most loyal Members
        var statistics4 = mostVotesNumbers
        var statistics5 = mostVotesNames
        var statistics7 = percentParty2

       var table3 = document.getElementById('mostLoyaltable')
        var rows3 = ''
        
        rows3 += '<tr><th>' + 'Name' + '</th><th>' + 'Number Party Votes'
            + '</th><th>' + '% Party Votes' + '</th></tr>'
        
        for (var i = 0;i<statistics4.length;i++){
        rows3 += '<tr><td>' + statistics5[i] + '</td><td>' +
        statistics4[i] + '</td><td>' + statistics7[i].toFixed(4) + '%' + '</td></tr>'
        }
      

      table3.innerHTML = rows3

    </script>
</body>
<footer>
    <div class="container-fluid">
        <p class="footer"> &#169 2016 TGIF | All Rights Reserved </p>

    </div>

</footer>

</html>