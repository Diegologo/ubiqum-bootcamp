<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Enric Santamarta">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="style.css">
        <title class="title">Senate Attendance</title>

    </head>

    <header class="header">            
        <h1 class="logo">TGIF</h1>
        <a href="mailto:info@git.net?subject=Reaching%20Out&body=How%20are%20you" class="email">info@tgif.net</a>
    </header>
    
    
        <nav class="menu">

            <div class="container">
                <div class="panel-group">
                    <div class="panel panel-deafult">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse2" class="selector">Home</a>
                                <a data-toggle="collapse" href="#collapse1" class="selector">Congress 113</a>
                                <a data-toggle="collapse" href="#collapse3" class="selector">Attendance</a>
                                <a data-toggle="collapse" href="#collapse4" class="selector">Party Loyalty</a>
                            </h4>
                        </div>
                        <div id="collapse2" class="panel-collapse collapse">
                            <div class="panel-body"><a href="home.html">Home</a></div>
                        </div>
        
        
                        <div id="collapse1" class="panel-collapse collapse">
                            <div class="panel-body"><a href="house-data.html">House</a></div>
        
                            <div class="panel-body"><a href="senate-data.html">Senate</a></div>
        
                        </div>
                        <div id="collapse3" class="panel-collapse collapse">
                            <div class="panel-body"><a href="">House</a></div>
        
                            <div class="panel-body"><a href="senate-attendance.html">Senate</a></div>
                            
                        </div>
                        <div id="collapse4" class="panel-collapse collapse">
                            <div class="panel-body"><a href="">House</a></div>
        
                            <div class="panel-body"><a href="senate-party-loyalty.html">Senate</a></div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <body>
        <!--Table container-->
        <div class="container">
            <h2>Attendance</h2>
            <p class="maintext">The Constitution specifies that a majority of members constitutes a quorum to do business in each house. Representatives and senators rarely force the presence of a quorum by demanding quorum calls; thus, in most cases, debates continue even if a majority is not present.</p>

            <p class="maintext">The Senate uses roll-call votes; a clerk calls out the names of all the senators, each senator stating "aye" or "no" when his or her name is announced. The House reserves roll-call votes for the most formal matters, as a roll-call of all 435 representatives takes quite some time; 
                normally, members vote by electronic device. In the case of a tie, the motion in question fails. In the Senate, the Vice President may (if present) cast the tiebreaking vote.</p>
    	    
            <h2>Senate at a glance</h2>
            <table class="table" id='tableGlance'>
 
            </table>

            <h2>Least Engaged (Bottom 10% Attendance)</h2>
            <table class="table" id='leastEngagedtable'>

            </table>

            <h2>Most Engaged (Top 10% Attendance)</h2>
            <table class="table" id='mostEngagedtable'>
  
            </table>
<script src="pro-congress-113-senate.js"></script>
<script src="statistics.js"></script>
<script>


var rows = ''

var statistics = [
    //numberOfRepublicans
    {
        party: 'Republicans',
        numbers: republicans,
        percentage: averageVotesRepublicans
    },
    //numberOfDemocrats
    {
        party: 'Democrats',
        numbers: democrats,
        percentage: averageVotesDemocrats
    },
    //numberOfIndependents
    {
        party: 'Independents',
        numbers: independents,
        percentage: averageVotesIndependents
    }]

var table = document.getElementById('tableGlance')
var rows = ''

rows += '<tr><th>' + 'Party' + '</th><th>' + 'Number of Representants'
    + '</th><th>' + 'Percentage of votes with Party' + '</th></tr>'


statistics.forEach(function (statistics) {
    rows += '<tr><td>' + statistics.party + '</td><td>' + statistics.numbers +
        '</td><td>' + statistics.percentage.toFixed(2) + '%' + '</td></tr>'})

table.innerHTML = rows

//least Engaged Members
var statistics2 = mostMissedVotes2
var statistics3 = mostMissedVotesNames
var statistics6 = percentPartyMissed2



var table2 = document.getElementById('leastEngagedtable')
var rows2 = ''

rows2 += '<tr><th>' + 'Name' + '</th><th>' + 'Number Missed Votes'
    + '</th><th>' + '% Party Votes' + '</th></tr>'

for(var i=0;i<statistics3.length;i++) { 
    rows2 += '<tr><td>' + statistics3[i] + '</td><td>'+ 
        statistics2[i]+'</td><td>'+ statistics6[i].toFixed(4) + '%'
         +'</td></tr>'}


table2.innerHTML = rows2
//most Engaged Members
var statistics4 = leastMissedVotes2
var statistics5 = leastMissedVotesNames
var statistics7 = percentPartyMissed

var table3 = document.getElementById('mostEngagedtable')
var rows3 = ''

rows3 += '<tr><th>' + 'Name' + '</th><th>' + 'Number Missed Votes'
    + '</th><th>' + '% Party Votes' + '</th></tr>'

for (var i = 0;i<statistics4.length;i++){
rows3 += '<tr><td>' + statistics5[i] + '</td><td>' +
statistics4[i] + '</td><td>' + statistics7[i].toFixed(4) + '%' + '</td></tr>'
}


table3.innerHTML = rows3


</script>
</div>    
</body>
<footer>
    <div class="container-fluid">
        <p class="footer"> &#169 2016 TGIF | All Rights Reserved </p>

    </div>

</footer>
</html>