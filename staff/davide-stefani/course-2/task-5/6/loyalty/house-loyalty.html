<!DOCTYPE html>
<html lang="en">

<head>
    <title> House Loyalty </title>
    <meta charset="utf-8" />
    <meta name="description" content=house-data />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/staff/davide-stefani/course-2/task-5/6/style.css">
</head>

<body>
    <div class="container">

        <header class="grid-header">
            <img src="https://dummyimage.com/100x100/e6e6e6/95bdde.jpg&text=TGIF" alt="TGIF Logo" class="logo">
            <h1 class="title">TGIF</h1>
            <a class="email" href="mailto:info@tgif.net" subject="subject text">&#9993 info@tgif.net</a>
        </header>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="/staff/davide-stefani/course-2/task-5/6/main/home.html">Home</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Congress 113
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/main/house-data.html">House</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/main/senate-data.html">Senate</a>
                    </li>
                </ul>
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Attendance
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/attendance/house-attendance.html">House</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/attendance/senate-attendance.html">Senate</a>
                    </li>
                </ul>
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Party Loyalty
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/loyalty/house-loyalty.html">House</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item"
                                href="/staff/davide-stefani/course-2/task-5/6/loyalty/senate-loyalty.html">Senate</a>
                    </li>
                </ul>
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown">
                      <a class="dropdown-item"
                        href="/staff/davide-stefani/course-2/task-5/6/legislators/legislators.html">State Legistrators</a>
                      <div class="dropdown-menu" id="state-selection" aria-labelledby="navbarDropdown">
                      </div>
                    </li>
                  </ul>
            </div>
        </nav>

        <header>
            <div>
            </div>
        </header>

        <div class="attendance-loyalty-grid">
            <div class="attendance-text">
                <h2>Party Loyalty</h2>
                <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans
                    respectively, tend to be the most faithful in voting for their party's nominee for office and
                    legislation that backs their party's agenda. </p>
            </div>

            <div id="glanceBody" class="table table-striped">

                <h2>House at a glance</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Party</th>
                            <th>Number of Reps</th>
                            <th>% Voted with Prty</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(group, key) in membersPerParty">
                            <td>{{group[0]}}</td>
                            <td>{{group[1]}}</td>
                            <td>{{group[2]}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="least-loyal-table" class="table table-striped">

                <h2>Least Loyal (Bottom 10% of Party)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Number Party Votes</th>
                            <th>% Party Votes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(member, key) in lowestLoyalty">
                            <td><a v-bind:href="member.url" class="iframe">{{member.first_name}} {{member.middle_name}} {{member.last_name}}</a></td>
                            <td>{{member.total_votes}}</td>
                            <td>{{member.votes_with_party_pct}} %</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="most-loyal-table" class="table table-striped">

                <h2>Most Loyal (Top 10% of Party)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Number Party Votes</th>
                            <th>% Party Votes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="(member, key) in highestLoyalty">
                            <td><a v-bind:href="member.url" class="iframe">{{member.first_name}} {{member.middle_name}} {{member.last_name}}</a></td>
                            <td>{{member.total_votes}}</td>
                            <td>{{member.votes_with_party_pct}} %</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <footer class="footer">
            <div class="container-fluid">
                <p class="footer"> &#169; 2016 TGIF | All Rights Reserved</p>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
        <!-- <script src="pro-congress-113-house.js"></script> -->

        <script>var url = "https://api.propublica.org/congress/v1/113/house/members.json"</script>
        <script src="/staff/davide-stefani/course-2/task-5/6/loyalty/loyalty.js"></script>
        <script src="/staff/davide-stefani/course-2/task-5/6/legislators/states.js"></script>
        <script src="/staff/davide-stefani/course-2/task-5/6/logic.js"></script>
        <script src="/staff/davide-stefani/course-2/task-5/6/legislators/legislators-main.js"></script>

</body>

</html>