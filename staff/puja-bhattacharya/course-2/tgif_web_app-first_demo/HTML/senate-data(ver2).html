<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Senate Data</title>
</head>
<body>
    <table id = "senate_data"></table>
    <script src= "/TGIF project/Data/pro-congress-113-senate.js">   </script>
    <script>
    //document.getElementById("senate-data").innerHTML = JSON.stringify(data,null,2);
        
        var senate_members = [];
        senate_members = data.results[0].members;

        var senate_table = document.createElement("table");
        senate_table.border = "1";
        var senate_row = senate_table.insertRow(-1);
         
        var senate_head_cell;
        var cell_value= ["Name", "Party", "State", "Years in Office", "% Votes w/ Party"];

        cell_value.forEach(headerFunction);
        function headerFunction(item, index)
        {
            senate_head_cell =  document.createElement("th");
            senate_head_cell.innerHTML = cell_value[index];
            senate_row.appendChild(senate_head_cell);
        }

        for(var vals of senate_members)
        {   
            console.log(vals);
            var senate_keys = Object.keys(vals);
            var senate_values = Object.values(vals);
            console.log("The senate keys are: " + senate_keys);
            senate_row = senate_table.insertRow(-1);
            var senate_header = ["senate_data_fullname", "senate_data_party", "senate_data_state", "senate_data_seniority", "senate_data_votes_with_party_pct"];
            var senate_cellValues = [[vals.first_name, vals.last_name].join(" "), vals.party, vals.state, vals.seniority, [vals.votes_with_party_pct, "%"].join(" ")];
            senate_header.forEach(myFunction);
                        
            function myFunction(item, index)
            {
                
                senate_row.insertCell(-1).innerHTML = senate_cellValues[index];
            }
        }
        
        var senate_data = document.getElementById("senate_data");
        senate_data.appendChild(senate_table);
    </script>
</body>
</html>